{"dependencies":[{"name":"/Users/ervinewell/Projects/hedge-editor/package.json","includedInParent":true,"mtime":1527090820000},{"name":"/Users/ervinewell/Projects/hedge-editor/node_modules/prosemirror-dropcursor/package.json","includedInParent":true,"mtime":1507898230000},{"name":"prosemirror-state","loc":{"line":5,"column":31}},{"name":"prosemirror-view","loc":{"line":6,"column":30}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar prosemirrorState = require('prosemirror-state');\nvar prosemirrorView = require('prosemirror-view');\n\nvar gecko = typeof navigator != \"undefined\" && /gecko\\/\\d/i.test(navigator.userAgent);\nvar linux = typeof navigator != \"undefined\" && /linux/i.test(navigator.platform);\n\nfunction dropCursor(options) {\n  function dispatch(view, data) {\n    view.dispatch(view.state.tr.setMeta(plugin, data));\n  }\n\n  var timeout = null;\n  function scheduleRemoval(view) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n    }, 1000);\n  }\n\n  var plugin = new prosemirrorState.Plugin({\n    state: {\n      init: function init() { return null },\n      apply: function apply(tr, prev, state) {\n        // Firefox on Linux gets really confused an breaks dragging when we\n        // mess with the nodes around the target node during a drag. So\n        // disable this plugin there. See https://bugzilla.mozilla.org/show_bug.cgi?id=1323170\n        if (gecko && linux) { return null }\n        var command = tr.getMeta(plugin);\n        if (!command) { return prev }\n        if (command.type == \"set\") { return pluginStateFor(state, command.pos, options) }\n        return null\n      }\n    },\n    props: {\n      handleDOMEvents: {\n        dragover: function dragover(view, event) {\n          var active = plugin.getState(view.state);\n          var pos = view.posAtCoords({left: event.clientX, top: event.clientY});\n          if (pos) {\n            var target = pos.pos;\n            if (view.dragging)\n              { target = dropPos(view.dragging.slice, view.state.doc.resolve(target)); }\n            if (!active || active.pos != target)\n              { dispatch(view, {type: \"set\", pos: target}); }\n          }\n          scheduleRemoval(view);\n          return false\n        },\n\n        dragend: function dragend(view) {\n          if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n          return false\n        },\n\n        drop: function drop(view) {\n          if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n          return false\n        },\n\n        dragleave: function dragleave(view, event) {\n          if (event.target == view.dom) { dispatch(view, {type: \"remove\"}); }\n          return false\n        }\n      },\n      decorations: function decorations(state) {\n        var active = plugin.getState(state);\n        return active && active.deco\n      }\n    }\n  });\n  return plugin\n}\n\nfunction style(options, side) {\n  var width = (options && options.width) || 1;\n  var color = (options && options.color) || \"black\";\n  return (\"border-\" + side + \": \" + width + \"px solid \" + color + \"; margin-\" + side + \": -\" + width + \"px\")\n}\n\nfunction pluginStateFor(state, pos, options) {\n  var $pos = state.doc.resolve(pos), deco;\n  if (!$pos.parent.inlineContent) {\n    var before, after;\n    if (before = $pos.nodeBefore)\n      { deco = prosemirrorView.Decoration.node(pos - before.nodeSize, pos, {nodeName: \"div\", style: style(options, \"right\")}); }\n    else if (after = $pos.nodeAfter)\n      { deco = prosemirrorView.Decoration.node(pos, pos + after.nodeSize, {nodeName: \"div\", style: style(options, \"left\")}); }\n  }\n  if (!deco) {\n    var node = document.createElement(\"span\");\n    node.textContent = \"\\u200b\";\n    node.style.cssText = style(options, \"left\") + \"; display: inline-block; pointer-events: none\";\n    deco = prosemirrorView.Decoration.widget(pos, node);\n  }\n  return {pos: pos, deco: prosemirrorView.DecorationSet.create(state.doc, [deco])}\n}\n\nfunction dropPos(slice, $pos) {\n  if (!slice || !slice.content.size) { return $pos.pos }\n  var content = slice.content;\n  for (var i = 0; i < slice.openStart; i++) { content = content.firstChild.content; }\n  for (var d = $pos.depth; d >= 0; d--) {\n    var bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n    var insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n    if ($pos.node(d).canReplace(insertPos, insertPos, content))\n      { return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1) }\n  }\n  return $pos.pos\n}\n\nexports.dropCursor = dropCursor;\n//# sourceMappingURL=dropcursor.js.map\n","map":{"mappings":[{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/prosemirror-dropcursor/dist/dropcursor.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}}],"sources":{"node_modules/prosemirror-dropcursor/dist/dropcursor.js":"'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar prosemirrorState = require('prosemirror-state');\nvar prosemirrorView = require('prosemirror-view');\n\nvar gecko = typeof navigator != \"undefined\" && /gecko\\/\\d/i.test(navigator.userAgent);\nvar linux = typeof navigator != \"undefined\" && /linux/i.test(navigator.platform);\n\nfunction dropCursor(options) {\n  function dispatch(view, data) {\n    view.dispatch(view.state.tr.setMeta(plugin, data));\n  }\n\n  var timeout = null;\n  function scheduleRemoval(view) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n    }, 1000);\n  }\n\n  var plugin = new prosemirrorState.Plugin({\n    state: {\n      init: function init() { return null },\n      apply: function apply(tr, prev, state) {\n        // Firefox on Linux gets really confused an breaks dragging when we\n        // mess with the nodes around the target node during a drag. So\n        // disable this plugin there. See https://bugzilla.mozilla.org/show_bug.cgi?id=1323170\n        if (gecko && linux) { return null }\n        var command = tr.getMeta(plugin);\n        if (!command) { return prev }\n        if (command.type == \"set\") { return pluginStateFor(state, command.pos, options) }\n        return null\n      }\n    },\n    props: {\n      handleDOMEvents: {\n        dragover: function dragover(view, event) {\n          var active = plugin.getState(view.state);\n          var pos = view.posAtCoords({left: event.clientX, top: event.clientY});\n          if (pos) {\n            var target = pos.pos;\n            if (view.dragging)\n              { target = dropPos(view.dragging.slice, view.state.doc.resolve(target)); }\n            if (!active || active.pos != target)\n              { dispatch(view, {type: \"set\", pos: target}); }\n          }\n          scheduleRemoval(view);\n          return false\n        },\n\n        dragend: function dragend(view) {\n          if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n          return false\n        },\n\n        drop: function drop(view) {\n          if (plugin.getState(view.state)) { dispatch(view, {type: \"remove\"}); }\n          return false\n        },\n\n        dragleave: function dragleave(view, event) {\n          if (event.target == view.dom) { dispatch(view, {type: \"remove\"}); }\n          return false\n        }\n      },\n      decorations: function decorations(state) {\n        var active = plugin.getState(state);\n        return active && active.deco\n      }\n    }\n  });\n  return plugin\n}\n\nfunction style(options, side) {\n  var width = (options && options.width) || 1;\n  var color = (options && options.color) || \"black\";\n  return (\"border-\" + side + \": \" + width + \"px solid \" + color + \"; margin-\" + side + \": -\" + width + \"px\")\n}\n\nfunction pluginStateFor(state, pos, options) {\n  var $pos = state.doc.resolve(pos), deco;\n  if (!$pos.parent.inlineContent) {\n    var before, after;\n    if (before = $pos.nodeBefore)\n      { deco = prosemirrorView.Decoration.node(pos - before.nodeSize, pos, {nodeName: \"div\", style: style(options, \"right\")}); }\n    else if (after = $pos.nodeAfter)\n      { deco = prosemirrorView.Decoration.node(pos, pos + after.nodeSize, {nodeName: \"div\", style: style(options, \"left\")}); }\n  }\n  if (!deco) {\n    var node = document.createElement(\"span\");\n    node.textContent = \"\\u200b\";\n    node.style.cssText = style(options, \"left\") + \"; display: inline-block; pointer-events: none\";\n    deco = prosemirrorView.Decoration.widget(pos, node);\n  }\n  return {pos: pos, deco: prosemirrorView.DecorationSet.create(state.doc, [deco])}\n}\n\nfunction dropPos(slice, $pos) {\n  if (!slice || !slice.content.size) { return $pos.pos }\n  var content = slice.content;\n  for (var i = 0; i < slice.openStart; i++) { content = content.firstChild.content; }\n  for (var d = $pos.depth; d >= 0; d--) {\n    var bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n    var insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n    if ($pos.node(d).canReplace(insertPos, insertPos, content))\n      { return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1) }\n  }\n  return $pos.pos\n}\n\nexports.dropCursor = dropCursor;\n//# sourceMappingURL=dropcursor.js.map\n"},"lineCount":117}},"hash":"8f8ee5fb404479d630d413afeb36512b","cacheData":{"env":{}}}